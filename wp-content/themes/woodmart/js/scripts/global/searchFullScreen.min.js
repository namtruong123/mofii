!function(r){woodmartThemeModule.searchFullScreen=function(){"yes"===woodmart_settings.ajax_fullscreen_content&&woodmartThemeModule.$body.on("mouseover click touchstart",".wd-header-search.wd-display-full-screen > a, .wd-search-form.wd-display-full-screen-2",function(){var o,a,e=r(this);e.hasClass("wd-inited")||(e.addClass("wd-inited"),o=r("[class*=wd-search-full-screen]"),(a=o.find(".wd-search-area")).length&&r.ajax({url:woodmart_settings.ajaxurl,data:{action:"woodmart_load_full_search_html"},dataType:"json",method:"POST",success:function(e){e.content&&(a.html(e.content),setTimeout(function(){o.addClass("wp-content-loaded")},10),woodmartThemeModule.$document.trigger("wdSearchFullScreenContentLoaded"),woodmartThemeModule.$document.trigger("wood-images-loaded"))},error:function(){console.log("loading html full search ajax error")}}))}),woodmartThemeModule.$body.on("click",".wd-header-search.wd-display-full-screen > a, .wd-search-form.wd-display-full-screen-2",function(e){e.preventDefault();var e=r(this),o=r(".wd-search-full-screen-2");0<e.parent().find(".wd-search-dropdown").length||woodmartThemeModule.$body.hasClass("global-search-dropdown")||(n()?d():(e.hasClass("wd-display-full-screen-2")||(o=r(".wd-search-full-screen"),a()),setTimeout(function(){t(o)},10)))}),woodmartThemeModule.$body.on("click",".wd-close-search a, .wd-page-wrapper, .header-banner",function(e){!r(e.target).is(".wd-close-search a")&&r(e.target).closest(".wd-search-full-screen").length||(r(e.target).is(".wd-close-search a")&&e.preventDefault(),n()&&d())});var o=function(e){27===e.keyCode&&(d(),woodmartThemeModule.$body.unbind("keyup",o))},d=function(){var e=r("[class*=wd-search-full-screen]");r("html").removeClass("wd-search-opened"),e.removeClass("wd-opened"),setTimeout(function(){e.removeClass("wd-searched")},500)},a=function(){var e,o=r("#wpadminbar"),o=0<o.length?o.outerHeight():0,a=r(".whb-sticked"),d=r(".whb-main-header");0<a.length?e=0<r(".whb-clone").length?a.outerHeight()+o:d.outerHeight()+o:(e=d.outerHeight()+o,woodmartThemeModule.$body.hasClass("header-banner-display")&&(e+=r(".header-banner").outerHeight())),r(".wd-search-full-screen").css("top",e)},t=function(a){woodmartThemeModule.$body.on("keyup",o),r("html").addClass("wd-search-opened"),a.addClass("wd-opened"),setTimeout(function(){var e=a.find('input[type="text"]'),o=e.val().length;e[0].setSelectionRange(o,o),e.trigger("focus"),1024<woodmartThemeModule.windowWidth&&woodmartThemeModule.$window.one("scroll",function(){n()&&d()})},500)},n=function(){return r("html").hasClass("wd-search-opened")}},r(document).ready(function(){woodmartThemeModule.searchFullScreen()})}(jQuery);