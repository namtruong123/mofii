(function(b){"use strict";var y=y||{};y.init=function(){y.$body=b(document.body),y.$window=b(window),y.$header=b("#site-header");this.toggleOffCanvas();this.toggleModals();this.togglePopover();this.sidebarPanel();this.toggleSearchModal();this.formFieldFocus();this.loginPopup();this.loginModalAuthenticate();this.topbarSlides();this.hamburgerToggleMenuItem();this.hamburgerToggleSubMenuItem();this.currencyLanguage();this.headerCampaignBar();this.stickyHeader();this.footerCollapsible();this.postsRelated();this.productCardHoverSlider();this.productCardHoverZoom();this.productAttribute();this.productQuantityNumber();this.productQuickView();this.productQuickAdd();this.addToCartLoopAjax();this.productFilterAjax();this.openMiniCartPanel();this.updateQuantityAutoCartPage();this.crossCellsProductCarousel();this.changeQuantitySingleProduct();this.productVariation();this.recentlyViewedProducts();this.updateQuantityAuto();this.productsRecommendedCarousel();y.$body.on("added_to_cart removed_from_cart wc_fragments_refreshed",function(){y.productsRecommendedCarousel()});this.addedToWishlistNotice();this.addedToCompareNotice();this.copyLink();this.backToTop();this.toggleProductCategoriesWidget();this.dropdownProductCategoriesSidebar();this.tooltip();this.orderComments()};y.toggleOffCanvas=function(){b(document.body).on("click",'[data-toggle="off-canvas"]',function(e){var t="#"+b(this).data("target");if(b(t).hasClass("offscreen-panel--open")){y.closeOffCanvas(t)}else if(y.openOffCanvas(t)){e.preventDefault()}if(t=="#filter-sidebar-panel"&&b("body").hasClass("woocommerce-shop-elementor")){if(b("body").find(".catalog-toolbar__filter-button").length>0){e.preventDefault();b(b("body").find(".catalog-toolbar__filter-button").get(0)).trigger("click")}}}).on("click",".offscreen-panel .panel__button-close, .offscreen-panel .panel__backdrop, .offscreen-panel .sidebar__button-close, .offscreen-panel .sidebar__backdrop",function(e){e.preventDefault();y.closeOffCanvas(this)}).on("keyup",function(e){if(e.keyCode===27){y.closeOffCanvas()}})};y.openOffCanvas=function(e){var t=b(e);if(!t.length){if(!b('.offscreen-panel[data-id="'+e.replace("#","")+'"]').length){return false}else{t=b('.offscreen-panel[data-id="'+e.replace("#","")+'"]')}}var o=window.innerWidth-b("#page").width();if(b("#page").width()<767){o=0}b(document.body).css({"padding-right":o,overflow:"hidden"});t.fadeIn();t.addClass("offscreen-panel--open");b(document.body).addClass("offcanvas-opened "+t.attr("id")+"-opened").trigger("ecomus_off_canvas_opened",[t]);return true};y.closeOffCanvas=function(e){if(!e){b(".offscreen-panel").each(function(){var e=b(this);if(!e.hasClass("offscreen-panel--open")){return}e.removeClass("offscreen-panel--open").fadeOut();b(document.body).removeClass(e.attr("id")+"-opened");if(e.hasClass("modal-above-panel")){e.removeClass("modal-above-panel")}if(e.hasClass("modal-above-panel__quickadd")){e.removeClass("modal-above-panel__quickadd")}})}else{e=b(e).closest(".offscreen-panel");e.removeClass("offscreen-panel--open").fadeOut();b(document.body).removeClass(e.attr("id")+"-opened");if(e.hasClass("modal-above-panel")){e.removeClass("modal-above-panel")}if(e.hasClass("modal-above-panel__quickadd")){e.removeClass("modal-above-panel__quickadd")}}b(document.body).removeAttr("style");b(document.body).removeClass("offcanvas-opened").trigger("ecomus_off_canvas_closed",[e])};y.toggleModals=function(){b(document.body).on("click",'[data-toggle="modal"]',function(e){if(b(this).data("modal")=="no"){return}var t="#"+b(this).data("target");if(b(t).hasClass("modal--open")){y.closeModal(t)}else if(y.openModal(t)){e.preventDefault()}}).on("click",".modal .modal__button-close, .modal .modal__backdrop",function(e){e.preventDefault();y.closeModal(this)}).on("keyup",function(e){if(e.keyCode===27){y.closeModal()}})};y.openModal=function(e){var t=b(e);t=t.length?t:b('.modal[data-id="'+e+'"]');if(!t.length){var e=e.replace("#","");t=b('.modal[data-id="'+e+'"]')}if(!t.length){return false}var o=window.innerWidth-b("#page").width();if(b("#page").width()<767){o=0}b(document.body).css({"padding-right":o,overflow:"hidden"});t.fadeIn();t.addClass("modal--open");b(document.body).addClass("modal-opened "+t.attr("id")+"-opened").trigger("ecomus_modal_opened",[t]);return true};y.closeModal=function(e){if(!e){b(".modal").removeClass("modal--open").fadeOut();b(".modal").each(function(){var e=b(this);if(!e.hasClass("modal--open")){return}e.removeClass("modal--open").fadeOut();b(document.body).removeClass(e.attr("id")+"-opened")})}else{e=b(e).closest(".modal");e.removeClass("modal--open").fadeOut();b(document.body).removeClass(e.attr("id")+"-opened")}b(document.body).removeAttr("style");b(document.body).removeClass("modal-opened").trigger("ecomus_modal_closed",[e])};y.togglePopover=function(){b(document.body).on("click",'[data-toggle="popover"]',function(e){var t="#"+b(this).data("target");if(b(this).data("device")=="mobile"){if(y.$window.width()>767){return}}if(b(t).hasClass("popover--open")){y.closePopover(t)}else if(y.openPopover(t)){e.preventDefault()}}).on("click",".popover .popover__button-close, .popover .popover__backdrop",function(e){e.preventDefault();y.closePopover(this)}).on("keyup",function(e){if(e.keyCode===27){y.closePopover()}})};y.openPopover=function(e){var t=b(e);t=t.length?t:b('.popover[data-id="'+e+'"]');if(!t.length){var e=e.replace("#","");t=b('.popover[data-id="'+e+'"]')}if(!t.length){return false}var o=window.innerWidth-b("#page").width();if(b("#page").width()<767){o=0}b(document.body).css({"padding-right":o,overflow:"hidden"});t.addClass("popover--open");b(document.body).addClass("popover-opened "+t.attr("id")+"-opened").trigger("ecomus_popover_opened",[t]);return true};y.closePopover=function(e){if(!e){b(".popover").removeClass("popover--open").fadeOut();b(".popover").each(function(){var e=b(this);if(!e.hasClass("popover--open")){return}e.removeClass("popover--open");b(document.body).removeClass(e.attr("id")+"-opened")})}else{e=b(e).closest(".popover");e.removeClass("popover--open");b(document.body).removeClass(e.attr("id")+"-opened")}b(document.body).removeAttr("style");b(document.body).removeClass("popover-opened").trigger("ecomus_popover_closed",[e])};y.toggleSearchModal=function(){var t=b("#search-modal");if(t.length<1||!t.hasClass("search-type-popup")){return}y.$window.on("resize",function(){if(y.$window.width()<1200){t.removeClass("search-type-popup").addClass("search-type-sidebar");if(t.find(".header-search__products--slider").length>0&&t.find(".header-search__products--slider").get(0).swiper){t.find(".header-search__products--slider").get(0).swiper.destroy()}}else{t.removeClass("search-type-sidebar").addClass("search-type-popup");if(t.find(".header-search__products--slider").length>0&&t.find(".header-search__products--slider").get(0).swiper==null){var e=t.find(".header-search__products--slider");new Swiper(e.get(0),o(e))}else{if(t.find(".header-search__products--slider").length<1){a()}}}}).trigger("resize");function o(e){var a=e.find(".product-thumbnail");var t={loop:false,autoplay:false,speed:800,watchSlidesVisibility:true,watchOverflow:true,navigation:{nextEl:e.find(".swiper-button-next:not(.ecomus-product-card-swiper-button)").get(0),prevEl:e.find(".swiper-button-prev:not(.ecomus-product-card-swiper-button)").get(0)},on:{init:function(){this.$el.css("opacity",1)},resize:function(){var o=this;if(a.length>0){a.imagesLoaded(function(){var e=a.outerHeight(),t=e/2+"px";b(o.navigation.$nextEl).css({"--em-arrow-top":t});b(o.navigation.$prevEl).css({"--em-arrow-top":t})})}}},spaceBetween:e.data("spacing"),breakpoints:{300:{slidesPerView:2,slidesPerGroup:2,spaceBetween:15},768:{slidesPerView:3,spaceBetween:e.data("spacing")},1200:{slidesPerView:4}}};return t}function a(){if(ecomusData.header_search_products&&ecomusData.header_search_product_limit>4){t.find(".header-search__products ul.products").wrap('<div class="header-search__products--slider swiper" data-spacing="30"></div>');t.find(".header-search__products ul.products").addClass("swiper-wrapper");t.find(".header-search__products ul.products").after('<span class="ecomus-svg-icon em-button-light ecomus-swiper-button swiper-button swiper-button-prev"><svg width="7" height="11" viewBox="0 0 7 11" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 11L0 5.5L5.5 0L6.47625 0.97625L1.9525 5.5L6.47625 10.0238L5.5 11Z" fill="currentColor"/></svg></span>');t.find(".header-search__products ul.products").after('<span class="ecomus-svg-icon em-button-light ecomus-swiper-button swiper-button swiper-button-next"><svg width="7" height="11" viewBox="0 0 7 11" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.5 11L7 5.5L1.5 0L0.52375 0.97625L5.0475 5.5L0.52375 10.0238L1.5 11Z" fill="currentColor"/></svg></span>');t.find(".header-search__products ul.products li.product").addClass("swiper-slide");var e=t.find(".header-search__products--slider");new Swiper(e.get(0),o(e))}}};y.sidebarPanel=function(){var e=b(".blog #mobile-sidebar-panel, .em-post-layout-expanded #mobile-sidebar-panel"),t=b(".ecomus-catalog-page #mobile-sidebar-panel"),o=b(".single-product .single-product-sidebar-panel--fixed");y.$window.on("resize",function(){if(y.$window.width()>1024){if(e.length>0&&e.hasClass("offscreen-panel")){e.removeClass("offscreen-panel").removeAttr("style")}if(t.length>0&&t.hasClass("offscreen-panel")){t.removeClass("offscreen-panel").removeAttr("style")}if(o.length>0&&o.hasClass("offscreen-panel")){if(b(document.body).hasClass("offcanvas-opened")){o.removeClass("offscreen-panel--open").fadeOut();b(document.body).removeClass("single-product-sidebar-panel-opened");b(document.body).css("padding-right","");b(document.body).css("overflow","");b(document.body).removeClass("offcanvas-opened")}}}else{if(e.length>0){e.addClass("offscreen-panel")}if(t.length>0){t.addClass("offscreen-panel")}}}).trigger("resize")};y.postsRelated=function(){if(!b(".ecomus-posts-related").length){return}var e=b(".ecomus-posts-related"),t=e.find(".swiper"),o={loop:false,autoplay:false,speed:800,watchOverflow:true,spaceBetween:e.data("spacing"),pagination:{el:e.find(".swiper-pagination").get(0),type:"bullets",clickable:true},breakpoints:{0:{slidesPerView:1,slidesPerGroup:1},767:{slidesPerView:2,slidesPerGroup:2},992:{slidesPerView:3,slidesPerGroup:3}}};e.find(".em-post-grid").addClass("swiper-slide");new Swiper(t.get(0),o)};y.footerCollapsible=function(){b(".footer-widgets-area .wp-block-group__inner-container").each(function(){if(b(this).find(".wp-block-heading").length){b(this).find(".wp-block-heading").addClass("em-widget-heading");b(this).find(".wp-block-heading").append('<span class="em-collapse-icon"></span>');b(this).find(".wp-block-heading").nextAll().wrapAll('<div class="em-widget-group"/>')}});var e=b(".footer-widgets-area .wp-block-group__inner-container .em-widget-group"),t=b(".footer-widgets-area .wp-block-group__inner-container .wp-block-heading");y.$window.on("resize",function(){if(y.$window.width()<768){t.addClass("clicked");e.addClass("dropdown")}else{t.removeClass("clicked");e.removeClass("dropdown").removeAttr("style")}}).trigger("resize");b(".footer-widgets-area .wp-block-group__inner-container .wp-block-heading").on("click",function(e){e.preventDefault();if(!b(this).next().hasClass("dropdown")){return}b(this).next(".dropdown").stop().slideToggle();b(this).toggleClass("active");return false})};y.productCardHoverSlider=function(){var e=y.$body.find("ul.products li.product .product-thumbnails--slider"),t={observer:true,observeParents:true,loop:false,autoplay:false,speed:800,watchOverflow:true,lazy:true,breakpoints:{}};e.find(".woocommerce-loop-product__link").addClass("swiper-slide");setTimeout(function(){e.each(function(){t.navigation={nextEl:b(this).find(".swiper-button-next").get(0),prevEl:b(this).find(".swiper-button-prev").get(0)};new Swiper(b(this).get(0),t)})},100)};y.productCardHoverZoom=function(){if(typeof ecomusData.product_card_hover==="undefined"||typeof Drift==="undefined"){return}if(ecomusData.product_card_hover!=="zoom"){return}var e=y.$body.find("ul.products li.product .product-thumbnail-zoom");var a={containInline:true,zoomFactor:2};e.each(function(){var e=b(this),t=e.find("img"),o=e.data("zoom");a.paneContainer=e.get(0);t.attr("data-zoom",o);new Drift(t.get(0),a)})};y.productAttribute=function(){y.$body.on("mouseover",".product-variation-item",function(e){e.preventDefault();if(b(this).hasClass("selected")){return}if(!b(this).closest(".product-variation-items").hasClass("em-variation-hover")){return}var t=b(this).closest(".product-inner").find(".product-thumbnail");t.addClass("hover-swatch");if(t.find(".product-thumbnails--slider").length>0&&t.find(".product-thumbnails--slider").get(0).swiper){t.find(".product-thumbnails--slider").get(0).swiper.slideTo(0)}b(this).siblings(".product-variation-item").removeClass("selected");b(this).addClass("selected");var o=b(this).data("product_variations"),a=t.find(".woocommerce-LoopProduct-link").first(),i=a.find("img").first();a.addClass("image-loading");if(o&&o.img_src!=="undefined"&&o.img_src){i.attr("src",o.img_src)}if(o&&o.img_srcset!=="undefined"&&o.img_srcset){i.attr("srcset",o.img_srcset)}if(o&&o.img_original!=="undefined"&&o.img_original){i.closest("a").attr("data-zoom",o.img_original);i.attr("data-zoom",o.img_original)}i.load(function(){a.removeClass("image-loading")})}).on("mouseout",".product-variation-item",function(e){e.preventDefault();b(this).closest(".product-inner").find(".product-thumbnail").removeClass("hover-swatch")})};y.formFieldFocus=function(){b(".woocommerce-account").on("keyup focus change",".woocommerce-form-row .input-text, .woocommerce-form-row input[type=text]",function(){b(this).closest(".woocommerce-form-row").addClass("focused")}).on("blur",".woocommerce-form-row .input-text, .woocommerce-form-row input[type=text]",function(){if(b(this).val()===""){b(this).closest(".woocommerce-form-row").removeClass("focused")}}).find(".woocommerce-form-row").each(function(){var t=b(this).find(".input-text, input[type=text]");if(t.val()!==""){b(this).addClass("focused")}t.on("animationstart",function(e){if(e.originalEvent.animationName==="autofill-animation"){t.closest(".woocommerce-form-row").addClass("focused")}})}).on("click",".showlogin",function(){b(this).closest(".woocommerce").find(".em-button-login-mode").trigger("click")});y.$window.on("load",function(){b(".woocommerce-account .woocommerce-form-row .input-text").map(function(){if(b(this).val().length!==0){b(this).closest(".woocommerce-form-row").addClass("focused")}}).get()})};y.loginPopup=function(){var t=b("#login-modal");t.on("click",".em-button-register-mode",function(e){e.preventDefault();t.find(".woocommerce-customer-login").removeClass("active");t.find(".woocommerce-customer-register").addClass("active")}).on("click",".em-button-login-mode",function(e){e.preventDefault();t.find(".woocommerce-customer-login").addClass("active");t.find(".woocommerce-customer-register").removeClass("active")})};y.loginModalAuthenticate=function(){var c=b("#login-modal"),l=null;c.on("submit","form.login",function e(t){var o=b("input[name=rememberme]",this).is(":checked"),a=b("input[name=woocommerce-login-nonce]",this).val();var i={action:"login_modal_authenticate",security:a,remember:o};r(this,i,t)});c.on("submit","form.register",function e(t){var o=b("input[name=woocommerce-register-nonce]",this).val();var a={action:"register_modal_authenticate",security:o};r(this,a,t)});function r(e,t,o){var a=b("input[name=username]",e).val(),i=b("input[name=password]",e).val(),r=b("input[name=email]",e).val(),n=b("[type=submit]",e),s=b(e);if(s.find("input[name=username]").length){if(!a){s.find("input[name=username]").focus();return false}}if(s.find("input[name=email]").length){if(!r){s.find("input[name=email]").focus();return false}}if(s.find("input[name=password]").length){if(!i){s.find("input[name=password]").focus();return false}}if(s.data("validated")){return true}if(l){l.abort()}var d=s.serializeArray();d.forEach(function(e){t[e.name]=e.value});c.find(".login-modal-notices").remove();n.addClass("loading");l=b.post(ecomusData.admin_ajax_url,t,function(e){if(!e.success){var t='<div class="login-modal-notices woocommerce-error">'+e.data+"</div>";c.find(".modal__content").append(t);n.removeClass("loading")}else{var t='<div class="login-modal-notices woocommerce-info">'+e.data+"</div>";c.find(".modal__content").append(t);n.removeClass("loading");setTimeout(function(){s.data("validated",true).trigger("submit")},1500)}});o.preventDefault()}};y.productQuantityNumber=function(){y.$body.on("click",".ecomus-qty-button",function(e){e.preventDefault();var t=b(this),o=t.siblings(".qty"),a=0,i=parseFloat(o.attr("min")),r=parseFloat(o.attr("max")),n=parseFloat(o.attr("step"));if(o.val()!==""){a=parseFloat(o.val())}else if(o.attr("placeholder")!==""){a=parseFloat(o.attr("placeholder"))}i=i?i:0;r=r?r:a+1;if(t.hasClass("decrease")&&a>i){o.val(a-n);o.trigger("change")}if(t.hasClass("increase")&&a<r){o.val(a+n);o.trigger("change")}})};y.productQuickView=function(){b(document.body).on("click",".ecomus-quickview-button",function(e){e.preventDefault();var t=b(this),o=t.data("id"),a=b("#"+t.data("target")),i=a.find(".woocommerce"),r=ecomusData.ajax_url.toString().replace("%%endpoint%%","product_quick_view"),n=null;if(t.closest(".offscreen-panel").length>0){t.closest(".offscreen-panel").addClass("modal-above-panel");if(t.closest(".offscreen-panel").hasClass("offscreen-panel--open")){y.closeOffCanvas(t.closest(".offscreen-panel"))}}a.addClass("loading");t.addClass("loading");i.find(".product-quickview").html("");y.progressBar();b.post(r,{action:"ecomus_get_product_quickview",product_id:o,security:ecomusData.product_quickview_nonce},function(e){i.find(".product-quickview").replaceWith(e.data);c(b(".product-quickview").find(".short-description__content"));if(e.success){y.progressBar(false);s()}t.removeClass("loading");a.removeClass("loading");if(!a.hasClass("modal--open")){y.openModal(a)}if(a.find(".size-guide-button").length==1){a.find(".size-guide-button").attr("data-modal","no")}y.$body.trigger("ecomus_product_quick_view_loaded");if(i.find(".ecomus-countdown").length>0){b(document.body).trigger("ecomus_countdown",[b(".ecomus-countdown")])}}).fail(function(){window.location.herf=t.attr("href")});function s(){var e=i.find(".product-quickview"),t=e.find(".woocommerce-product-gallery"),o=e.find(".variations_form");d();t.on("ecomus_update_product_gallery_on_quickview",function(){d()});if(typeof wc_add_to_cart_variation_params!=="undefined"){o.each(function(){y.productVariation();b(this).wc_variation_form()})}b(document.body).trigger("init_variation_swatches")}function d(){var e=i.find(".product-quickview"),t=e.find(".woocommerce-product-gallery"),o=t.find(".woocommerce-product-gallery__wrapper");t.on("click",".woocommerce-product-gallery__image a",function(e){e.preventDefault()});if(o.find(".woocommerce-product-gallery__image").length>1){o.addClass("woocommerce-product-gallery__slider swiper");o.wrapInner('<div class="swiper-wrapper"></div>');o.find(".swiper-wrapper").after('<span class="ecomus-svg-icon em-button-light ecomus-swiper-button swiper-button swiper-button-prev"><svg width="7" height="11" viewBox="0 0 7 11" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 11L0 5.5L5.5 0L6.47625 0.97625L1.9525 5.5L6.47625 10.0238L5.5 11Z" fill="currentColor"/></svg></span>');o.find(".swiper-wrapper").after('<span class="ecomus-svg-icon em-button-light ecomus-swiper-button swiper-button swiper-button-next"><svg width="7" height="11" viewBox="0 0 7 11" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.5 11L7 5.5L1.5 0L0.52375 0.97625L5.0475 5.5L0.52375 10.0238L1.5 11Z" fill="currentColor"/></svg></span>');o.find(".woocommerce-product-gallery__image").addClass("swiper-slide");var a={loop:false,autoplay:false,speed:800,watchOverflow:true,autoHeight:true,navigation:{nextEl:o.find(".swiper-button-next").get(0),prevEl:o.find(".swiper-button-prev").get(0)},on:{init:function(){t.css("opacity",1)}}};n=new Swiper(o.get(0),a)}else{t.css("opacity",1)}}function c(e){var t=ecomusData.product_description_lines,o=parseInt(e.css("line-height"))*t;e.each(function(){var e=b(this).outerHeight();if(e<o){b(this).siblings(".short-description__more").addClass("hidden")}});b(document.body).on("click",".short-description__more",function(e){e.preventDefault();var t=b(this).data("settings"),o=t.more,a=t.less;if(b(this).hasClass("less")){b(this).removeClass("less");b(this).text(o);b(this).siblings(".short-description__content").removeAttr("style")}else{b(this).addClass("less");b(this).text(a);b(this).siblings(".short-description__content").css("-webkit-line-clamp","inherit")}})}});b(document.body).on("click",".size-guide-button",function(e){e.preventDefault();var t=b(this).closest(".quick-view-modal");if(t.length!==1){return}if(!t.hasClass("modal--open")){return}y.openModal(t.find(".size-guide-modal"));t.addClass("size-guide-modal--open")}).on("click",".modal .modal__button-close, .modal .modal__backdrop",function(e){e.preventDefault();var t=b(this).closest(".quick-view-modal");if(t.length!==1){return}if(!t.hasClass("size-guide-modal--open")){return}y.closeModal(t.find(".size-guide-modal"));y.openModal(t);t.removeClass("size-guide-modal--open")}).on("keyup",function(e){if(e.keyCode===27){b(".quick-view-modal").removeClass("size-guide-modal--open")}})};y.productQuickAdd=function(){if(!ecomusData.product_card_quickadd){return}y.$body.on("click",'.product-loop-button-atc[data-target="quick-add-modal"]',function(e){e.preventDefault();var t=b(this),o=t.data("product_id"),a=b("#"+t.data("target")),i=a.find(".woocommerce"),r=ecomusData.ajax_url.toString().replace("%%endpoint%%","product_quick_add");a.addClass("loading");if(t.closest(".offscreen-panel").length>0){t.closest(".offscreen-panel").addClass("modal-above-panel__quickadd");if(t.closest(".offscreen-panel").hasClass("offscreen-panel--open")){y.closeOffCanvas(t.closest(".offscreen-panel"))}}t.addClass("loading");i.find(".product-quickadd").html("");y.progressBar();b.post(r,{action:"ecomus_get_product_quickadd",product_id:o,security:ecomusData.product_quickadd_nonce},function(e){i.find(".product-quickadd").replaceWith(e.data);if(e.success){y.progressBar(false);n()}t.removeClass("loading");a.removeClass("loading");if(!a.hasClass("modal--open")){y.openModal(a)}y.$body.trigger("ecomus_product_quick_add_loaded")}).fail(function(){window.location.herf=t.attr("href")});function n(){var e=i.find(".product-quickadd"),t=e.find(".variations_form");if(typeof wc_add_to_cart_variation_params!=="undefined"){t.each(function(){y.productVariation();b(this).wc_variation_form()})}b(document.body).trigger("init_variation_swatches")}})};y.productFilterAjax=function(){b(document.body).on("ecomus_products_filter_before_send_request",function(){y.progressBar()});b(document.body).on("ecomus_products_filter_request_success",function(){y.progressBar(false)})};y.addToCartLoopAjax=function(){var e=false;b(document.body).on("adding_to_cart",function(){y.progressBar();e=true});b(document.body).on("added_to_cart wc_fragments_refreshed",function(){if(e){y.progressBar(false);e=false}})};y.openMiniCartPanel=function(){if(typeof ecomusData.added_to_cart_notice==="undefined"){return}if(ecomusData.added_to_cart_notice.added_to_cart_notice_layout!=="mini"){return}var e=false;b(document.body).on("adding_to_cart",function(){e=true});b(document.body).on("added_to_cart wc_fragments_refreshed",function(){if(e){y.openOffCanvas("#cart-panel")}})};y.updateQuantityAutoCartPage=function(){b(document.body).on("change","table.cart .qty",function(){if(typeof ecomusData.update_cart_page_auto!==undefined&&ecomusData.update_cart_page_auto=="1"){y.$body.find('button[name="update_cart"]').attr("clicked","true").prop("disabled",false).attr("aria-disabled",false);y.$body.find('button[name="update_cart"]').trigger("click")}})};y.crossCellsProductCarousel=function(){var e=ecomusData.cross_sells_products_columns;y.getProductCarousel(b(".cross-sells"),e)};y.changeQuantitySingleProduct=function(){b(document.body).on("change","input.qty",function(){if(b(this).closest("div.product").find(".dynamic-pricing-discounts").length>0){return}var e=b(this).val(),t=b(this).closest("form.cart").find(".single_add_to_cart_button .price"),o=t.attr("data-price");if(!o){return}t.html(y.formatPrice(parseFloat(e*o)))})};y.productVariation=function(){var p=b(".single-product div.product .entry-summary .variations_form .single_add_to_cart_button"),m=p.find(".divide"),f=p.find(".price"),g=b("div.product .entry-summary .product_title"),h=b("div.product .entry-summary .woocommerce-badges--single-primary").get(0),_=b("div.product .entry-summary .ecomus-product-price .price"),v=b("div.product .entry-summary .ecomus-product-price .ecomus-product-availability"),o=_.html(),a=v.html(),i=b(".single-product div.product .entry-summary .variations_form"),r=[];if(!b(".single-product div.product").hasClass("has-instock-notifier")){b(".single-product div.product .entry-summary .variations_form:not(.product-select__variation)").on("wc_variation_form woocommerce_update_variation_values",function(){if(i.length>0&&i.find("table.variations tbody .label").length==1){var e=i.data("product_variations");if(e.length>0){for(var t=0;t<e.length;t++){if(!e[t].is_in_stock){var o=Object.values(e[t].attributes)?Object.values(e[t].attributes)[0]:null;if(o&&!i.find('li[data-value="'+o+'"]').hasClass("disabled")){r.push(o)}}}}}setTimeout(function(){r.forEach(function(e){i.find('li[data-value="'+e+'"]').addClass("disabled")})},20)})}b(".single-product div.product .entry-summary .variations_form:not(.product-select__variation)").on("found_variation",function(e,t){m.removeClass("hidden");f.removeClass("hidden");var o=t.display_price,a=t.variation_id,i=t.price_html,r=t.availability_html,n=b(this).closest(".variations_form"),s=b(this).closest("form.cart").find(".quantity input.qty"),d=s.val(),c=n.find('.em-addtocart-text-single-product--variable[data-variation_id="all"]').text(),l=n.find('.em-addtocart-text-single-product--variable[data-variation_id="'+a+'"]').text(),u=w(t.badges_html);if(i==""){i=_.html()}else{_.html(i)}f.attr("data-price",o);f.html(y.formatPrice(parseFloat(d*o)));if(r!=""){v.html(r)}y.variations_image_update(t,n);if(l){p.find(".text").html(l)}else{p.find(".text").html(c)}if(v.find(".stock").hasClass("hidden")){v.find(".stock").removeClass("hidden")}if(b(this).closest(".product-quickadd").length<1){if(u.length>0){if(b(this).closest("div.product").find(".entry-summary .woocommerce-badges--single-primary").length>0){b(this).closest("div.product").find(".entry-summary .woocommerce-badges--single-primary").replaceWith(u)}else{g.after(u)}v.find(".stock").addClass("hidden")}else{b(this).closest("div.product").find(".entry-summary .woocommerce-badges--single-primary").replaceWith(h)}}});b(".single-product div.product .entry-summary .variations_form:not(.product-select__variation)").on("reset_data",function(){var e=b(this).closest(".variations_form"),t=e.find('.em-addtocart-text-single-product--variable[data-variation_id="all"]').text();m.addClass("hidden");f.addClass("hidden");_.html(o);v.html(a);y.variations_image_reset(e);p.find(".text").html(t);if(v.find(".stock").hasClass("hidden")){v.find(".stock").removeClass("hidden")}if(b(this).closest(".product-quickadd").length<1){if(h){b(this).closest("div.product").find(".entry-summary .woocommerce-badges--single-primary").replaceWith(h)}else{g.siblings(".woocommerce-badges--single-primary").remove()}}});var t=b(".single-product div.product .entry-summary .em-countdown-single-product").html();b(".single-product div.product .entry-summary .variations_form:not(.product-select__variation)").on("show_variation",function(){var e=b(this).closest("div.product").find(".em-countdown-single-product"),t=b(this).find(".variation_id").val(),o=b(this).find(".variation-id-"+t).html();e.fadeOut().addClass("hidden");if(o&&t!=="0"){e.html(o);e.fadeIn().removeClass("hidden")}e.find(".ecomus-countdown").ecomus_countdown()});b(".single-product div.product .entry-summary .variations_form:not(.product-select__variation)").on("hide_variation",function(){var e=b(this).closest("div.product").find(".em-countdown-single-product");if(t){e.fadeOut().addClass("hidden");e.html(t)}e.find(".ecomus-countdown").ecomus_countdown()});function w(e){var t=document.createElement("textarea");t.innerHTML=e;return t.value}};y.variations_image_update=function(e,t){var o=t.closest(".product"),a=o.find(".woocommerce-product-gallery"),i=a.find(".woocommerce-product-gallery__wrapper"),r=o.find(".ecomus-product-gallery-thumbnails");if(e&&e.image&&e.image.src&&e.image.src.length>1){var n=r.find('.woocommerce-product-gallery__image[data-thumb="'+e.image.gallery_thumbnail_src+'"]').length>0;if(n){y.variations_image_reset(t)}else{y.set_variation_image(t,e)}if(y.$window.width()>768&&a.hasClass("woocommerce-product-gallery--grid")){if(!y.setVariationImageToGalleryGrid(i,r,t,e)){return false}}else if(i.hasClass("swiper")){if(!y.setVariationImageToGallerySwiper(i,r,t,e)){return false}}}else{y.variations_image_reset(t)}};y.setVariationImageToGalleryGrid=function(e,t,o,a){var i=e.find('.woocommerce-product-gallery__image[data-thumb="'+a.image.gallery_thumbnail_src+'"]');if(i.length>0&&!b(i).hasClass("swiper-slide-active")){b("html, body").animate({scrollTop:b(i).offset().top},300);o.attr("current-image",a.image_id);return false}if(y.$window.scrollTop()>e.offset().top){b("html, body").animate({scrollTop:e.offset().top},300)}return true};y.setVariationImageToGallerySwiper=function(e,t,o,a){var i=t.find('.woocommerce-product-gallery__image[data-thumb="'+a.image.gallery_thumbnail_src+'"]');if(i.length>0){var r=t.find(".woocommerce-product-gallery__image").index(i);e.get(0).swiper.slideTo(r);o.attr("current-image",a.image_id);return false}e.get(0).swiper.slideTo(0);return true};y.variations_image_reset=function(e){var t=e.closest(".product"),o=t.find(".woocommerce-product-gallery"),a=o.find(".woocommerce-product-gallery__wrapper"),i=t.find(".ecomus-product-gallery-thumbnails"),r=i.find(".woocommerce-product-gallery__image:eq(0) img"),n=o.find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),s=n.find(".wp-post-image"),d=n.find("a").eq(0);if(a.hasClass("swiper")){a.get(0).swiper.slideTo(0)}s.wc_reset_variation_attr("src");s.wc_reset_variation_attr("width");s.wc_reset_variation_attr("height");s.wc_reset_variation_attr("srcset");s.wc_reset_variation_attr("sizes");s.wc_reset_variation_attr("title");s.wc_reset_variation_attr("data-caption");s.wc_reset_variation_attr("alt");s.wc_reset_variation_attr("data-src");s.wc_reset_variation_attr("data-large_image");s.wc_reset_variation_attr("data-large_image_width");s.wc_reset_variation_attr("data-large_image_height");n.wc_reset_variation_attr("data-thumb");r.wc_reset_variation_attr("src");r.wc_reset_variation_attr("srcset");r.wc_reset_variation_attr("sizes");r.wc_reset_variation_attr("data-large_image_width");r.wc_reset_variation_attr("data-large_image_height");r.wc_reset_variation_attr("data-large_image");r.wc_reset_variation_attr("title");r.wc_reset_variation_attr("data-caption");r.wc_reset_variation_attr("alt");r.wc_reset_variation_attr("data-src");d.wc_reset_variation_attr("href")};y.set_variation_image=function(e,t){var o=e.closest(".product"),a=o.find(".woocommerce-product-gallery"),i=o.find(".ecomus-product-gallery-thumbnails"),r=i.find(".woocommerce-product-gallery__image:eq(0) img"),n=a.find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),s=n.find(".wp-post-image"),d=n.find("a").eq(0);s.wc_set_variation_attr("src",t.image.src);s.wc_set_variation_attr("height",t.image.src_h);s.wc_set_variation_attr("width",t.image.src_w);s.wc_set_variation_attr("srcset",t.image.srcset);s.wc_set_variation_attr("sizes",t.image.sizes);s.wc_set_variation_attr("title",t.image.title);s.wc_set_variation_attr("data-caption",t.image.caption);s.wc_set_variation_attr("alt",t.image.alt);s.wc_set_variation_attr("data-src",t.image.full_src);s.wc_set_variation_attr("data-large_image",t.image.full_src);s.wc_set_variation_attr("data-large_image_width",t.image.full_src_w);s.wc_set_variation_attr("data-large_image_height",t.image.full_src_h);n.wc_set_variation_attr("data-thumb",t.image.src);r.wc_set_variation_attr("src",t.image.gallery_thumbnail_src);r.wc_set_variation_attr("srcset",t.image.gallery_thumbnail_src);r.wc_set_variation_attr("sizes",t.image.sizes);r.wc_set_variation_attr("data-large_image_width",t.image.full_src_w);r.wc_set_variation_attr("data-large_image_height",t.image.full_src_h);r.wc_set_variation_attr("data-large_image",t.image.full_src);r.wc_set_variation_attr("title",t.image.title);r.wc_set_variation_attr("data-caption",t.image.caption);r.wc_set_variation_attr("alt",t.image.alt);r.wc_set_variation_attr("data-src",t.image.full_src);d.wc_set_variation_attr("href",t.image.full_src)};y.updateQuantityAuto=function(){var t=null;b(document.body).on("change",".woocommerce-mini-cart .qty",function(){var e=b(this);if(t){clearTimeout(t)}t=setTimeout(function(){y.updateCartAJAX(e)},500)})};y.updateCartAJAX=function(e){var t=e.closest(".woocommerce-mini-cart-item"),o=e.closest(".widget_shopping_cart_content").find(".woocommerce-mini-cart-item"),a=t.find("a.remove").data("cart_item_key"),i=t.find(".woocommerce-mini-cart-item__qty").data("nonce"),r=ecomusData.ajax_url.toString().replace("%%endpoint%%","update_cart_item");if(b.fn.block){t.block({message:null,overlayCSS:{opacity:.6,background:"#fff"}})}b.post(r,{cart_item_key:a,qty:e.val(),cart_item_length:o.length,security:i},function(e){if(!e||!e.fragments){return}if(b.fn.unblock){t.unblock()}b(document.body).trigger("added_to_cart",[e.fragments,e.cart_hash,t])}).fail(function(){if(b.fn.unblock){t.unblock()}return})};y.recentlyViewedProducts=function(){var o=y.$body.find(".recently-viewed-products"),a=y.$body.find(".recently-viewed-products__title"),e=o.data("columns"),i=ecomusData.ajax_url.toString().replace("%%endpoint%%","ecomus_get_recently_viewed"),r=null;if(o.length<1){return}if(o.hasClass("products-loaded")){return}if(!o.hasClass("has-ajax")){y.getProductCarousel(o,e);return}a.css("display","none");y.$window.on("scroll",function(){if(y.isVisible(o)&&!r){t()}}).trigger("scroll");function t(){if(o.data("requestRunning")){return}var t=o.data("columns");o.data("requestRunning",true);o.addClass("ajax-loading").append('<div class="ecomus-recently-viewed-loading"></div>');r=b.post(i,{recently_viewed_products_settings:o.data("settings")?o.data("settings"):null},function(e){if(e.success){o.append(e.data);y.$body.trigger("ecomus_products_loaded",[o,false]);y.productCardHoverSlider();if(o.find(".no-products").length<1){if(!o.data("settings")){y.getProductCarousel(o,t)}else{o.trigger("ecomus_recently_viewed_loaded")}a.removeAttr("style")}o.addClass("products-loaded");o.data("requestRunning",false);o.find(".ecomus-recently-viewed-loading").remove();o.removeClass("ajax-loading")}})}};y.getProductCarousel=function(r,e){if(typeof Swiper==="undefined"){return}if(!r.length){return}var t=r.find("ul.products");t.wrap('<div class="products-carousel swiper ecomus-carousel--elementor" data-spacing="30"></div>');t.after('<div class="swiper-pagination swiper-pagination-bullet--small"></div>');t.addClass("swiper-wrapper");t.find("li.product").addClass("swiper-slide");if(ecomusData.product_card_hover=="slider"){t.parent().after('<span class="ecomus-svg-icon swiper-button-outline-dark ecomus-swiper-button swiper-button swiper-button-prev"><svg width="7" height="11" viewBox="0 0 7 11" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 11L0 5.5L5.5 0L6.47625 0.97625L1.9525 5.5L6.47625 10.0238L5.5 11Z" fill="currentColor"/></svg></span>');t.parent().after('<span class="ecomus-svg-icon swiper-button-outline-dark ecomus-swiper-button swiper-button swiper-button-next"><svg width="7" height="11" viewBox="0 0 7 11" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.5 11L7 5.5L1.5 0L0.52375 0.97625L5.0475 5.5L0.52375 10.0238L1.5 11Z" fill="currentColor"/></svg></span>')}else{t.after('<span class="ecomus-svg-icon swiper-button-light ecomus-swiper-button swiper-button swiper-button-prev"><svg width="7" height="11" viewBox="0 0 7 11" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 11L0 5.5L5.5 0L6.47625 0.97625L1.9525 5.5L6.47625 10.0238L5.5 11Z" fill="currentColor"/></svg></span>');t.after('<span class="ecomus-svg-icon swiper-button-light ecomus-swiper-button swiper-button swiper-button-next"><svg width="7" height="11" viewBox="0 0 7 11" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.5 11L7 5.5L1.5 0L0.52375 0.97625L5.0475 5.5L0.52375 10.0238L1.5 11Z" fill="currentColor"/></svg></span>')}var o=t.closest(".products-carousel"),n=t.find(".product-thumbnail");var a={loop:false,autoplay:false,speed:800,watchSlidesVisibility:true,watchOverflow:true,navigation:{nextEl:r.find(".ecomus-swiper-button.swiper-button-next").get(0),prevEl:r.find(".ecomus-swiper-button.swiper-button-prev").get(0)},pagination:{el:o.find(".swiper-pagination").get(0),type:"bullets",clickable:true},on:{init:function(){this.$el.css("opacity",1)},beforeInit:function(){var i=this;if(n.length>0){n.imagesLoaded(function(){var e=n.outerHeight(),t=r.find("h2").first(),o=e/2;if(ecomusData.product_card_hover==="slider"){r.addClass("em-product-hover--slider");if(t.length){var a=t.outerHeight();o=o+a}}else{o=e/2+15}b(i.navigation.$nextEl).css({"--em-arrow-top":o+"px"});b(i.navigation.$prevEl).css({"--em-arrow-top":o+"px"})})}},resize:function(){var i=this;if(n.length>0){n.imagesLoaded(function(){var e=n.outerHeight(),t=r.find("h2").first(),o=e/2;if(ecomusData.product_card_hover==="slider"){r.addClass("product-hover--slider");if(t.length){var a=t.outerHeight();o=o+a}}else{o=e/2+15}b(i.navigation.$nextEl).css({"--em-arrow-top":o+"px"});b(i.navigation.$prevEl).css({"--em-arrow-top":o+"px"})})}}},spaceBetween:o.data("spacing"),breakpoints:{300:{slidesPerView:e.mobile,slidesPerGroup:2,spaceBetween:15},768:{slidesPerView:e.tablet,spaceBetween:o.data("spacing")},1200:{slidesPerView:e.desktop}}};new Swiper(o.get(0),a)};y.productsRecommendedCarousel=function(){setTimeout(function(){var e=b(".ecomus-mini-products-recommended");if(!e.length){return}var t=e.find(".swiper"),o={loop:false,autoplay:false,speed:800,watchOverflow:true,spaceBetween:30,slidesPerView:1,pagination:{el:e.find(".swiper-pagination").get(0),type:"bullets",clickable:true},breakpoints:{}};e.find(".woocommerce-loop-product").addClass("swiper-slide");new Swiper(t.get(0),o)},1)};y.addedToWishlistNotice=function(){if(typeof ecomusData.added_to_wishlist_notice==="undefined"||!b.fn.notify){return}y.$body.on("added_to_wishlist",function(e,t){var o=t.data("product_title");a(o);return false});function a(e){e+=" "+ecomusData.added_to_wishlist_notice.added_to_wishlist_text;e+='<a href="'+ecomusData.added_to_wishlist_notice.wishlist_view_link+'" class="btn-button">'+ecomusData.added_to_wishlist_notice.wishlist_view_text+"</a>";var t='<span class="ecomus-svg-icon message-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-check-circle"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg></span>',o='<span class="ecomus-svg-icon svg-active"><svg class="svg-icon" aria-hidden="true" role="img" focusable="false" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14 1L1 14M1 1L14 14" stroke="#A0A0A0" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"></path></svg></span>';b.notify.addStyle("ecomus",{html:"<div>"+t+e+o+"</div>"});b.notify("&nbsp",{autoHideDelay:ecomusData.added_to_wishlist_notice.wishlist_notice_auto_hide,className:"success",style:"ecomus",showAnimation:"fadeIn",hideAnimation:"fadeOut"})}};y.addedToCompareNotice=function(){if(typeof ecomusData.added_to_compare_notice==="undefined"||!b.fn.notify){return}y.$body.on("added_to_compare",function(e,t){var o=t.data("product_title");a(o);return false});function a(e){e+=" "+ecomusData.added_to_compare_notice.added_to_compare_text;e+='<a href="'+ecomusData.added_to_compare_notice.compare_view_link+'" class="btn-button">'+ecomusData.added_to_compare_notice.compare_view_text+"</a>";var t='<span class="ecomus-svg-icon message-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-check-circle"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg></span>',o='<span class="ecomus-svg-icon svg-active"><svg class="svg-icon" aria-hidden="true" role="img" focusable="false" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14 1L1 14M1 1L14 14" stroke="#A0A0A0" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"></path></svg></span>';b.notify.addStyle("ecomus",{html:"<div>"+t+e+o+"</div>"});b.notify("&nbsp",{autoHideDelay:ecomusData.added_to_compare_notice.compare_notice_auto_hide,className:"success",style:"ecomus",showAnimation:"fadeIn",hideAnimation:"fadeOut"})}};y.copyLink=function(){b(".ecomus-copylink__button").on("click",function(e){e.preventDefault();var t=b(this).closest("form").find(".ecomus-copylink__link");t.select();document.execCommand("copy")})};y.progressBar=function(e=true){if(!e){y.$body.find(".em-progress-bar").css("transform","scaleX(1)");setTimeout(function(){y.$body.find(".em-progress-bar").css("display","none");y.$body.find(".em-progress-bar").css("transform","scaleX(0)")},600);setTimeout(function(){y.$body.find(".em-progress-bar").removeAttr("style")},700)}else{y.$body.find(".em-progress-bar").css("transform","scaleX(0.8)")}};y.currencyLanguage=function(){if(!b(".ecomus-currency-language").length){return}b(document.body).on("click",".ecomus-currency-language .current",function(e){if(!b(this).next().hasClass("currency-dropdown")){return}var t=b(this).outerWidth()/2,o=b(this).offset().left,a=b(this).siblings(".currency-dropdown").width()/2;if(o<=a){t=a-o+10}b(this).next(".currency-dropdown").css("left",t);if(b(document.body).hasClass("rtl")){o=b(window).width()-(o+b(this).outerWidth());if(o<=a){t=a-o+10}b(this).next(".currency-dropdown").css({right:t,left:"auto"})}if(b(this).hasClass("active")){b(this).removeClass("active");b(this).next(".currency-dropdown").removeClass("active")}else{b(".ecomus-currency-language .current").removeClass("active");b(".ecomus-currency-language .currency-dropdown").removeClass("active");b(this).next(".currency-dropdown").stop().toggleClass("active");b(this).toggleClass("active")}}).on("keyup",function(e){if(e.keyCode===27){b(this).removeClass("active");b(".ecomus-currency-language .current").removeClass("active");b(".ecomus-currency-language .currency-dropdown").removeClass("active")}}).on("click",function(e){var t=b(e.target);if(t.is(".ecomus-currency-language .current")){return}if(t.is(".ecomus-currency-language .preferences-menu__item-child")){return}b(".ecomus-currency-language .current").removeClass("active");b(".ecomus-currency-language .currency-dropdown").removeClass("active")});b(document.body).on("ecomus_popover_opened",function(){b(".ecomus-currency-language .current").removeClass("active");b(".ecomus-currency-language .currency-dropdown").removeClass("active")})};y.hamburgerToggleMenuItem=function(){var e=b("#mobile-menu-panel, #mobile-shop-panel"),t="ul.menu li.menu-item-has-children > a";if(ecomusData.header_mobile_menu_open_primary_submenus_on=="icon"){e.find("ul.menu li.menu-item-has-children > a").append('<span class="toggle-menu-children"></span>');t="ul.menu li.menu-item-has-children > a .toggle-menu-children"}e.on("click",t,function(e){e.preventDefault();var t=b(this).closest("li.menu-item-has-children");t.toggleClass("active").siblings().removeClass("active");t.children("ul.sub-menu").slideToggle("fast");t.siblings().find("ul.sub-menu").slideUp("fast")})};y.hamburgerToggleSubMenuItem=function(){var e=b("#mobile-menu-panel"),t=".mega-menu .menu-item--widget-heading";if(ecomusData.header_mobile_menu_open_primary_submenus_on=="icon"){e.find(".mega-menu .menu-item--widget-heading > *").append('<span class="toggle-menu-children"></span>');t=".mega-menu .menu-item--widget-heading > * .toggle-menu-children"}e.on("click",t,function(e){e.preventDefault();var t=b(this).closest(".menu-item--widget-heading");if(t.hasClass("active")){t.removeClass("active");t.nextAll(".menu-item:not(.menu-item--widget-heading)").slideUp("fast")}else{b(".mega-menu .menu-item--widget-heading").removeClass("active");b(".mega-menu .mega-menu-sub-item").slideUp("fast");t.addClass("active");t.nextUntil(".menu-item--widget-heading").slideDown("fast")}});b("#mobile-menu-panel").find(".mega-menu .mega-menu__column .menu-item--widget-heading").nextAll(".menu-item:not(.menu-item--widget-heading)").addClass("mega-menu-sub-item").hide()};y.headerCampaignBar=function(){var e=b("#campaign-bar");if(!e.length){return}e.on("click",".campaign-bar__close",function(e){e.preventDefault();b(this).closest(".campaign-bar").slideUp()});if(e.hasClass("campaign-bar-type--marquee")){this.headerCampaignBarMarquee()}if(e.hasClass("campaign-bar-type--slides")){this.headerCampaignBarSlides()}};y.headerCampaignBarMarquee=function(){var e=b("#campaign-bar"),t=e.find(".campaign-bar__container"),o=e.find(".campaign-bar__items"),a=(parseInt(Math.ceil(jQuery(window).width()/o.outerWidth(true)))||0)+1,i=t.data("speed"),r=1/parseFloat(i)*(o.outerWidth(true)/350);t.css("--em-campaign-speed",r+"s");for(let e=1;e<=a;e++){var n=o.clone();n.addClass("campaign-bar__items--duplicate em-absolute");n.css("--em-campaign-index",e.toString());n.appendTo(t)}};y.headerCampaignBarSlides=function(){var e=b("#campaign-bar"),t=e.find(".campaign-bar__items");t.after('<span class="ecomus-svg-icon ecomus-swiper-button swiper-button swiper-button-text swiper-button-prev"><svg width="7" height="11" viewBox="0 0 7 11" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 11L0 5.5L5.5 0L6.47625 0.97625L1.9525 5.5L6.47625 10.0238L5.5 11Z" fill="currentColor"/></svg></span>');t.after('<span class="ecomus-svg-icon ecomus-swiper-button swiper-button swiper-button-text swiper-button-next"><svg width="7" height="11" viewBox="0 0 7 11" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.5 11L7 5.5L1.5 0L0.52375 0.97625L5.0475 5.5L0.52375 10.0238L1.5 11Z" fill="currentColor"/></svg></span>');var o=e.find(".swiper"),a={loop:true,autoplay:true,speed:1e3,watchOverflow:true,navigation:{nextEl:o.find(".swiper-button-next").get(0),prevEl:o.find(".swiper-button-prev").get(0)}};new Swiper(o.get(0),a)};y.stickyHeader=function(){if(ecomusData.header_sticky){e(y.$header.find(".site-header__desktop"),y.$header.find(".site-header__section.ecomus-header-sticky"))}if(ecomusData.header_mobile_sticky){e(y.$header.find(".site-header__mobile"),y.$header.find(".site-header__section.ecomus-header-mobile-sticky"))}function e(e,t){var o=y.$header.outerHeight(true),a=y.$body.outerHeight(true),i=b("#campaign-bar").is(":visible")?b("#campaign-bar").height():0,r=b("#topbar").is(":visible")?b("#topbar").height():0,n=o+i+r+200,s=y.$header.find(".site-header__desktop").length?y.$header.find(".site-header__desktop").outerHeight():0,d=y.$header.find(".site-header__mobile").length?y.$header.find(".site-header__mobile").outerHeight():0;if(a<n*5){return}if("up"===ecomusData.header_sticky_on){if(e.length&&typeof Headroom!=="undefined"){var c=new Headroom(e.get(0),{offset:n});c.init()}}y.$window.on("scroll",function(){var e=y.$window.scrollTop();if(a<=n+y.$window.height()){return}if(e>n){if(y.$window.width()>768){y.$header.css("height",s)}else{y.$header.css("height",d)}if("up"!==ecomusData.header_sticky_on){t.addClass("minimized")}}else{y.$header.removeAttr("style");if("up"!==ecomusData.header_sticky_on){t.removeClass("minimized")}}})}};y.topbarSlides=function(){var e=b("#topbar-slides");if(!e.length){return}var t=e.find(".swiper"),o={loop:true,autoplay:true,speed:800,watchOverflow:true,spaceBetween:30};new Swiper(t.get(0),o)};y.backToTop=function(){var r=b("#gotop");y.$window.on("scroll",function(){if(y.$window.scrollTop()>100){r.addClass("show-scroll")}else{r.removeClass("show-scroll")}let e=y.$window.scrollTop(),t=y.$body.outerHeight(),o=b(window).height(),a=e/(t-o),i=a*360;r.css("--cricle-degrees",i+"deg")});y.$body.on("click","#gotop",function(e){e.preventDefault();b("html, body").animate({scrollTop:0},800)})};y.toggleProductCategoriesWidget=function(){var e=b(".widget_product_categories");e.find("li.cat-parent").each(function(){if(b(this).find("ul.children").length>0){b(this).append('<span class="em-product-cat-item-toggle"></span>')}});e.on("click","li.cat-parent > .em-product-cat-item-toggle",function(e){e.preventDefault();var t=b(this).closest("li.cat-parent");t.toggleClass("active").siblings().removeClass("active");t.children("ul.children").slideToggle()});b(".catalog-sidebar .wp-block-group").each(function(){if(b(this).find(".wp-block-heading").length){b(this).find(".wp-block-heading").addClass("em-widget-heading clicked");b(this).find(".wp-block-heading").append('<span class="em-collapse-icon"></span>');b(this).find(".wp-block-heading").nextAll().wrapAll('<div class="em-widget-group dropdown"/>')}});b(".catalog-sidebar .widget").each(function(){if(b(this).find(".widget-title").length){b(this).find(".widget-title").addClass("em-widget-heading clicked");b(this).find(".widget-title").append('<span class="em-collapse-icon"></span>');b(this).find(".widget-title").nextAll().wrapAll('<div class="em-widget-group dropdown"/>')}});b(".catalog-sidebar .em-widget-heading").on("click",function(e){e.preventDefault();if(!b(this).next().hasClass("dropdown")){return}b(this).next(".dropdown").stop().slideToggle();b(this).toggleClass("active");return false})};y.dropdownProductCategoriesSidebar=function(e){var t=b(".wp-block-woocommerce-product-categories"),o=t.find(".wc-block-product-categories-list");if(!t.hasClass("is-list")){return}t.addClass("em-product-categories-widget");o.addClass("em-product-categories-dropdown");o.closest(".wc-block-product-categories-list-item").addClass("em-product-categories-has-children");o.closest(".wc-block-product-categories-list-item").append('<span class="em-product-categories-toggler" aria-hidden="true"></span>');t.on("click",".em-product-categories-has-children > .em-product-categories-toggler",function(e){e.preventDefault();var t=b(this).closest(".em-product-categories-has-children");t.toggleClass("active").siblings().removeClass("active");t.children(".em-product-categories-dropdown").slideToggle();t.siblings().find(".em-product-categories-dropdown").slideUp()})};y.formatPrice=function(e){var t=ecomusData.currency_symbol,o=ecomusData.thousand_sep,a=ecomusData.decimal_sep,i=ecomusData.price_decimals,r=ecomusData.currency_pos,n=e;if(parseInt(i)>-1){e=e.toFixed(i)+"";var s=e.split(".");var d=s[0],c=s.length>1?a+s[1]:"";if(o){var l=/(\d+)(\d{3})/;while(l.test(d)){d=d.replace(l,"$1"+o+"$2")}}n=d+c}switch(r){case"left":return t+n;break;case"right":return n+t;break;case"left_space":return t+" "+n;break;case"right_space":return n+" "+t;break}};y.tooltip=function(){y.$body.on("mouseenter",".em-tooltip",function(e){t(b(this))}).on("click",".em-tooltip",function(e){t(b(this))}).on("mouseleave",".em-tooltip",function(e){b(".em-tooltip--data").remove()});function t(e){if(y.$body.find(".em-tooltip--data").length>0){b(".em-tooltip--data").remove()}if(e.hasClass("loading")){b(".em-tooltip--data").remove();return}var n=b('<div class="em-tooltip--data em-absolute"></div>'),s=e,t=200;n.appendTo("body");n.attr("data-tooltip",e.data("tooltip"));if(e.data("tooltip_added")){n.attr("data-tooltip_added",e.data("tooltip_added"))}if(e.hasClass("added")){n.addClass("added");if(!e.data("tooltip_added")){n.attr("data-tooltip_added",e.data("tooltip"))}}if(s.hasClass("product-loop-button")&&!s.closest(".product-featured-icons").hasClass("product-featured-icons--single-product")){t=500}n.fadeIn(t,function(){var e=s.offset(),t=s.outerHeight(),o=b(".em-tooltip--data").outerWidth(),a=b(".em-tooltip--data").outerHeight(),i=e.top-a+t+"px",r=e.left+s.outerWidth()/2-o/2+"px";if(s.data("tooltip_position")){n.addClass("bottom")}else{n.addClass("top");i=e.top-a-7+"px";if(s.closest(".product-featured-icons--second").length>0){if(s.closest(".product-featured-icons--second").hasClass("product-featured-icons--right")){n.addClass("left");r=e.left-o-7+"px"}else{n.addClass("right");r=e.left+s.outerWidth()-7+"px"}i=e.top+s.outerHeight()/2-a/2+"px"}}n.css({top:i,left:r})})}b(document.body).on("added_to_cart wc_fragments_refreshed",function(){b(".em-tooltip--data").remove()});b(document.body).on("ecomus_product_quick_add_loaded",function(){e(b("#quick-add-modal"))});b(document.body).on("ecomus_product_quick_view_loaded",function(){e(b("#quick-view-modal"))});function e(e){var t=e.find(".wcboost-variation-swatches__item");t.addClass("em-tooltip");t.each(function(){var e=b(this).attr("aria-label");if(e){b(this).attr("data-tooltip",e)}})}};y.orderComments=function(){var e=b("#order_comments_field #order_comments");if(!e.length){return}if(localStorage.getItem("order_comments")){e.val(localStorage.getItem("order_comments"))}e.on("input",function(){localStorage.setItem("order_comments",b(this).val())});b("form.checkout").on("submit",function(){localStorage.removeItem("order_comments")})};y.isVisible=function(e){if(e instanceof jQuery){e=e[0]}if(!e){return false}var t=e.getBoundingClientRect();return t.bottom>0&&t.right>0&&t.left<(window.innerWidth||document.documentElement.clientWidth)&&t.top<(window.innerHeight||document.documentElement.clientHeight)};b(function(){y.init()})})(jQuery);